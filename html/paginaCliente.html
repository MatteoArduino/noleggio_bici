<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- inclusione di jquery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <!-- inclusione CryptoJS tramite CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>

    <!-- inclusione file js esterno -->
    <script src="../JS/gestioneCliente.js"></script>

    <!-- foglio di stile della pagina -->
    <link rel="stylesheet" href="../styles/clientStyle.css">

    <!-- foglio di stile per la mappa -->
    <link rel="stylesheet" href="../styles/style.css">

    <!-- dipendenze della mappa -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

    <script>
        $(document).ready(function () {
            //funzione per mostrare la sezione selezionata
            function showSection(sectionId) {
                $('section').removeClass('active');
                $(sectionId).addClass('active');
            }

            //gestione click dei pulsanti

            //sezione mappa
            $("#view-map-btn").click(function () {
                showSection('#map');
                loadMap();
            });

            //sezione delle tratte
            $("#view-tratte-btn").click(function () {
                showSection('#tratte');
                loadTratte();
            });

            //
            $("#view-profile-btn").click(function () {
                showSection('#profile');
                // Caricare i dati del profilo, se necessario
            });

            $("#save-profile-btn").click(function () {
                //aggiornamento profilo
                saveProfile();
            });

            $("#btn-logout").click(function () {
                // logout
                window.location.href = "../php/logout.php";
            });

            // Mostra la prima sezione di default
            showSection('#tratte');
            loadTratte();
        });
    </script>
</head>
<body>
<!-- Pulsanti di navigazione -->
<div id="navigation">
    <button id="view-map-btn">Mappa</button>
    <button id="view-tratte-btn">Tratte Percorse</button>
    <button id="view-profile-btn">Profilo</button>
</div>

<!-- Pulsante "Back" -->
<button id="btn-logout">logout</button>

<!-- sezione della mappa -->
<section id="map" class="active">
    <div id="map"></div>
</section>

<!-- Sezione per visualizzare le tratte percorse -->
<section id="tratte">
    <h2>Tratte Percorse</h2>
    <div id="tratte-list">
        <!-- Le tratte percorse verranno caricate qui -->
    </div>
</section>

<!-- Sezione per visualizzare/modificare i dati del profilo -->
<section id="profile">
    <h2>Profilo</h2>
    <div class="profile-field">
        <label for="nome">Nome:</label>
        <input type="text" id="nome" name="nome" required>
    </div>
    <div class="profile-field">
        <label for="cognome">Cognome:</label>
        <input type="text" id="cognome" name="cognome" required>
    </div>
    <div class="profile-field">
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required>
    </div>
    <div class="profile-field">
        <label for="password">Password:</label>
        <input type="password" id="password" name="password" required>
    </div>
    <div class="profile-field">
        <label for="carta_credito">Numero Carta di Credito:</label>
        <input type="text" id="carta_credito" name="carta_credito" required>
    </div>
    <div class="profile-actions">
        <button id="save-profile-btn">Salva Profilo</button>
    </div>
</section>
</body>
</html>
